<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuentas por cobrar</title>
    <link rel="stylesheet" href="./css/cxc.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script defer src="./js/app.js" ></script>

</head>
<body>
    <div class="dashboard">
        <header class="dashboard__header">
            <div class="dashboard__header-logo">
                <div class="logo">
                    <img class="header__information-logo" src="../../assets/imgs/logo.BN.png"  alt="Logo" />
                </div>
            </div>

            <div class="dashboard__header-menu">
                <nav class="menu">
                    <ul>
                        <li class="menu__item">
                            <a href="../Nomina/NominaIngresoEgreso.html" target="_self" ><i class="fa fa-home" aria-hidden="true"></i> Nomina</a>
                        </li>
                        <li class="menu__item">
                            <a href="../Activos/activos_1.html" target="_self"><i class="fa fa-home" aria-hidden="true"></i> Activos</a>
                        </li>
                        <li class="menu__item">
                            <a href="../Contabilidad/tipoCuenta.html" target="_self" class="active"><i class="fa fa-list-alt" aria-hidden="true"></i> Contabilidad </a>
                        </li>
                        <li class="menu__item">
                            <a href="../Facturacion/factu_1.html" target="_self"><i class="fa fa-home" aria-hidden="true"></i> Facturación</a>
                        </li>
                        <li class="menu__item menu__item-active">
                            <a href="../CuentasPorCobrar/CabeceraDeFacturas.html"><i class="fa fa-home" aria-hidden="true"></i> Cuentas por cobrar</a>
                        </li>
                    </ul>
                </nav>
            </div>

            <div class="dashboard__header-information">
                <button class="user__profile">
                    <div class="user__profile-name">
                        <span>Jhon Bedoya</span>
                        <span>Admin</span>
                    </div>
                    <img src="../../assets/imgs/iconuser.png" alt="User"/>
                </button>
            </div>
        </header>


        <div class="dashboard__body">
            <div class="dashboard__body-navigaation">
                <nav class="navigation">
                    <ul>
                        <li class="navigation__item">
                            <a href="./Cobrador.html"><i class="fa fa-file-text" aria-hidden="true"></i> Cobrador </a>
                        </li>
                        <li class="navigation__item">
                            <a href="./FormaPago.html"><i class="fa fa-list-ul" aria-hidden="true"></i> Forma de pago</a>
                        </li>
                        <li class="navigation__item ">
                            <a href="./CabeceraDeFacturas.html"><i class="fa fa-book" aria-hidden="true"></i> Cabecera de Facturas</a>
                        </li>
                        <li class="navigation__item">
                            <a href="./EstadoCuenta.html"><i class="fa fa-university" aria-hidden="true"></i> Estado de Cuenta por factura</a>
                        </li>
                        <li class="navigation__item navigation__item-active">
                            <a href="./ValoresRecaudados.html"><i class="fa fa-calculator" aria-hidden="true"></i> Valores Recaudados por Cobrador</a>
                        </li>
                    </ul>
                </nav>

            </div>
            <div class="dashboard__body-main">
                <div class="dashboard__main-header">
                    <div class="neon">
                        <h3>Valores Recaudados por Cobrador</h3>
                        </div>
                <button type="button" onclick="mostrarValoresRecaudados()">Generar reporte</button>

            
                <script>


            

            //Aqui va nuevo código:
            
                    function mostrarValoresRecaudados() {
                        // Datos de ejemplo para la tabla de valores recaudados
                        var datosRecaudados = [
                            ["Cobradores", "Efectivo", "Cheque", "Transferencia", "Total"],
                            ["Cobrador 1", "$200", "$150", "$100", ""],
                            ["Cobrador 2", "$300", "$250", "$200", ""],
                            ["Total", "", "", "", "$400"],
                            // ... más filas de datos ...
                        ];
            
                        // Calcular la suma total por forma de pago y cobrador
                        for (var i = 1; i <= 3; i++) { // Itera sobre las formas de pago (Efectivo, Tarjeta, Cheque)
                            var sumaTotal = 0;
                            for (var j = 1; j <= 2; j++) { // Itera sobre los cobradores
                                var monto = parseInt(datosRecaudados[j][i].replace("$", "") || 0);
                                sumaTotal += monto;
                                datosRecaudados[j][4] = "$" + sumaTotal; // Actualiza la suma total para el cobrador
                            }
                            datosRecaudados[3][i] = "$" + sumaTotal; // Actualiza la suma total para la forma de pago
                        }
            
                        // Llama a la función para mostrar la tabla en una ventana emergente
                        mostrarTablaEnVentanaEmergente("Valores Recaudados por Cobradores", datosRecaudados);
                    }
            
                    function mostrarTablaEnVentanaEmergente(nombreTabla, datos) {
                        // Crea una tabla dinámicamente
                        var tabla = document.createElement('table');
                        tabla.border = '1';
                        tabla.style.position = 'absolute';
                        tabla.style.left = '50%';
                        tabla.style.top = '50%';
                        tabla.style.transform = 'translate(-50%, -50%)';                       


                        // Itera sobre los datos y crea las filas y celdas de la tabla
                        for (var i = 0; i < datos.length; i++) {
                            var fila = tabla.insertRow();
                            for (var j = 0; j < datos[i].length; j++) {
                                var celda = fila.insertCell();
                                celda.innerHTML = datos[i][j];
                            }
                        }
            
                        // Agrega el nombre de la tabla como encabezado
                        var encabezado = document.createElement('h2');
                        encabezado.innerHTML = nombreTabla;
            
                        // Crea una nueva ventana emergente
                        var anchoVentana = 550;
                        var altoVentana = 350;

                        var left = window.screenX + (window.outerWidth - anchoVentana) / 2;
                        var top = window.screenY + (window.outerHeight - altoVentana) / 2;

                        var ventanaEmergente = window.open('', '_blank', 'width=' + anchoVentana + ',height=' + altoVentana + ',left=' + left + ',top=' + top);
            
                        // Agrega el encabezado y la tabla a la ventana emergente
                        ventanaEmergente.document.body.appendChild(encabezado);
                        ventanaEmergente.document.body.appendChild(tabla);
            
                        // Agrega un botón de impresión a la ventana emergente
                        var botonImprimir = ventanaEmergente.document.createElement('button');
                        botonImprimir.innerHTML = 'Imprimir';
                        botonImprimir.onclick = function() {
                            ventanaEmergente.print();
                        };
                        ventanaEmergente.document.body.appendChild(botonImprimir);
                    }
            
                </script>



            </div>
        </div>
</div>
 
    

            </div>
        </div>
</div>
</body>
</html>